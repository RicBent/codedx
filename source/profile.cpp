#include "profile.h"
#include "actor/actor.h"

Profile* Profile::profilesCustom[NUM_PROFILES_CUSTOM];
s16 Profile::prioritiesCustom[NUM_PROFILES_CUSTOM] = { 0 };
u8 Profile::hasResourcesCustom[NUM_PROFILES_CUSTOM] = { 0 };
u8 Profile::resourceCountCustom[NUM_PROFILES_CUSTOM] = { 0 };
const sead::SafeString* Profile::resourceListsCustom[NUM_PROFILES_CUSTOM] = { 0 };


Profile::Profile(Actor* (*buildFunc)(const ActorBuildInfo*), u32 id, const sead::SafeString& name, const ActorInfo* actorInfo, u32 flags)
{
    this->buildFunc = buildFunc;
    this->id = id;

    if (actorInfo)
        this->actorInfo = actorInfo;
    else
        this->actorInfo = &ActorInfo::Default;

    this->hasResourcesLoaded = 0;
    this->flags = flags;

    if (id < NUM_PROFILES_ORIGINAL)
        profilesOriginal[id] = this;

    else if (id < NUM_PROFILES)
        profilesCustom[id - NUM_PROFILES_ORIGINAL] = this;

    else
        profilesOriginal[0] = this;
}

u32 Profile::vf00()
{
    return 1;
}


Profile* Profile::get(u32 id)
{
    if (id < NUM_PROFILES_ORIGINAL)
        return profilesOriginal[id];

    if (id < NUM_PROFILES)
        return profilesCustom[id - NUM_PROFILES_ORIGINAL];

    return profilesOriginal[0];
}

s16 Profile::getPriority(u32 id)
{
    if (id < NUM_PROFILES_ORIGINAL)
        return prioritiesOriginal[id];

    if (id < NUM_PROFILES)
        return prioritiesCustom[id - NUM_PROFILES_ORIGINAL];

    return -1;
}

u8 Profile::getHasResources(u32 id)
{
    if (id < NUM_PROFILES_ORIGINAL)
        return hasResourcesOriginal[id];

    if (id < NUM_PROFILES)
        return hasResourcesCustom[id - NUM_PROFILES_ORIGINAL];

    return 0;
}

u8 Profile::getResourceCount(u32 id)
{
    if (id < NUM_PROFILES_ORIGINAL)
        return resourceCountOriginal[id];

    if (id < NUM_PROFILES)
        return resourceCountCustom[id - NUM_PROFILES_ORIGINAL];

    return 0;
}

const sead::SafeString* Profile::getResourceList(u32 id)
{
    if (id < NUM_PROFILES_ORIGINAL)
        return resourceListsOriginal[id];

    if (id < NUM_PROFILES)
        return resourceListsCustom[id - NUM_PROFILES_ORIGINAL];

    return nullptr;
}

u32 Profile::getNumProfiles()
{
    return NUM_PROFILES;
}


u32 Profile::spriteToProfileList[] =
{
    467,    //   0
    469,    //   1
    479,    //   2
    480,    //   3
    481,    //   4
    482,    //   5
    483,    //   6
    484,    //   7
    485,    //   8
    486,    //   9
    487,    //  10
    488,    //  11
    489,    //  12
    490,    //  13
    492,    //  14
    495,    //  15
    496,    //  16
    497,    //  17
    498,    //  18
    512,    //  19
    515,    //  20
    516,    //  21
    381,    //  22
    517,    //  23
    518,    //  24
    565,    //  25
    575,    //  26
    578,    //  27
    579,    //  28
    580,    //  29
    581,    //  30
    275,    //  31
    741,    //  32
    562,    //  33
    563,    //  34
    602,    //  35
    0,      //  36
    1,      //  37
    2,      //  38
    3,      //  39
    4,      //  40
    5,      //  41
    8,      //  42
    9,      //  43
    751,    //  44
    426,    //  45
    427,    //  46
    429,    //  47
    430,    //  48
    118,    //  49
    119,    //  50
    611,    //  51
    191,    //  52
    549,    //  53
    756,    //  54
    513,    //  55
    551,    //  56
    548,    //  57
    562,    //  58
    289,    //  59
    291,    //  60
    294,    //  61
    775,    //  62
    499,    //  63
    500,    //  64
    395,    //  65
    398,    //  66
    613,    //  67
    39,     //  68
    40,     //  69
    11,     //  70
    60,     //  71
    64,     //  72
    393,    //  73
    519,    //  74
    764,    //  75
    758,    //  76
    766,    //  77
    760,    //  78
    762,    //  79
    54,     //  80
    56,     //  81
    776,    //  82
    777,    //  83
    778,    //  84
    556,    //  85
    383,    //  86
    405,    //  87
    84,     //  88
    85,     //  89
    86,     //  90
    87,     //  91
    88,     //  92
    89,     //  93
    82,     //  94
    83,     //  95
    614,    //  96
    587,    //  97
    615,    //  98
    385,    //  99
    13,     // 100
    530,    // 101
    588,    // 102
    112,    // 103
    344,    // 104
    345,    // 105
    542,    // 106
    603,    // 107
    604,    // 108
    605,    // 109
    607,    // 110
    609,    // 111
    113,    // 112
    532,    // 113
    547,    // 114
    748,    // 115
    41,     // 116
    43,     // 117
    42,     // 118
    621,    // 119
    539,    // 120
    788,    // 121
    790,    // 122
    121,    // 123
    122,    // 124
    629,    // 125
    630,    // 126
    631,    // 127
    632,    // 128
    540,    // 129
    626,    // 130
    545,    // 131
    129,    // 132
    184,    // 133
    791,    // 134
    636,    // 135
    637,    // 136
    649,    // 137
    650,    // 138
    335,    // 139
    336,    // 140
    334,    // 141
    333,    // 142
    450,    // 143
    441,    // 144
    190,    // 145
    143,    // 146
    296,    // 147
    297,    // 148
    406,    // 149
    168,    // 150
    170,    // 151
    387,    // 152
    187,    // 153
    310,    // 154
    145,    // 155
    123,    // 156
    801,    // 157
    411,    // 158
    139,    // 159
    140,    // 160
    141,    // 161
    142,    // 162
    124,    // 163
    521,    // 164
    45,     // 165
    46,     // 166
    425,    // 167
    14,     // 168
    15,     // 169
    522,    // 170
    101,    // 171
    102,    // 172
    103,    // 173
    104,    // 174
    524,    // 175
    114,    // 176
    115,    // 177
    116,    // 178
    628,    // 179
    638,    // 180
    640,    // 181
    211,    // 182
    779,    // 183
    350,    // 184
    780,    // 185
    212,    // 186
    652,    // 187
    193,    // 188
    312,    // 189
    300,    // 190
    302,    // 191
    215,    // 192
    217,    // 193
    561,    // 194
    321,    // 195
    17,     // 196
    794,    // 197
    792,    // 198
    388,    // 199
    80,     // 200
    793,    // 201
    389,    // 202
    390,    // 203
    653,    // 204
    311,    // 205
    679,    // 206
    128,    // 207
    314,    // 208
    315,    // 209
    77,     // 210
    258,    // 211
    584,    // 212
    238,    // 213
    47,     // 214
    555,    // 215
    685,    // 216
    61,     // 217
    781,    // 218
    782,    // 219
    783,    // 220
    784,    // 221
    194,    // 222
    680,    // 223
    448,    // 224
    684,    // 225
    355,    // 226
    356,    // 227
    95,     // 228
    786,    // 229
    694,    // 230
    357,    // 231
    200,    // 232
    298,    // 233
    299,    // 234
    375,    // 235
    377,    // 236
    749,    // 237
    51,     // 238
    173,    // 239
    222,    // 240
    197,    // 241
    198,    // 242
    447,    // 243
    695,    // 244
    686,    // 245
    682,    // 246
    470,    // 247
    199,    // 248
    508,    // 249
    152,    // 250
    236,    // 251
    240,    // 252
    799,    // 253
    798,    // 254
    471,    // 255
    154,    // 256
    201,    // 257
    202,    // 258
    502,    // 259
    117,    // 260
    205,    // 261
    206,    // 262
    279,    // 263
    126,    // 264
    53,     // 265
    158,    // 266
    800,    // 267
    283,    // 268
    208,    // 269
    768,    // 270
    147,    // 271
    148,    // 272
    149,    // 273
    162,    // 274
    98,     // 275
    553,    // 276
    407,    // 277
    220,    // 278
    408,    // 279
    92,     // 280
    409,    // 281
    633,    // 282
    52,     // 283
    203,    // 284
    204,    // 285
    655,    // 286
    358,    // 287
    757,    // 288
    224,    // 289
    225,    // 290
    20,     // 291
    226,    // 292
    227,    // 293
    229,    // 294
    228,    // 295
    696,    // 296
    49,     // 297
    353,    // 298
    359,    // 299
    360,    // 300
    510,    // 301
    681,    // 302
    772,    // 303
    233,    // 304
    671,    // 305
    354,    // 306
    234,    // 307
    231,    // 308
    232,    // 309
    672,    // 310
    55,     // 311
    93,     // 312
    804,    // 313
    235,    // 314
    230,    // 315
    153,    // 316
    683,    // 317
    656,    // 318
    178,    // 319
    659,    // 320
    554,    // 321
    806,    // 322
    391,    // 323
    179,    // 324
    414,    // 325
    413,    // 326
    167,    // 327
    415,    // 328
    566,    // 329
    180,    // 330
    567,    // 331
    568,    // 332
    569,    // 333
    525,    // 334
    527,    // 335
    675,    // 336
    674,    // 337
    324,    // 338
    241,    // 339
    416,    // 340
    807,    // 341
    570,    // 342
    571,    // 343
    585,    // 344
    243,    // 345
    773,    // 346
    245,    // 347
    248,    // 348
    244,    // 349
    150,    // 350
    505,    // 351
    677,    // 352
    50,     // 353
    250,    // 354
    210,    // 355
    251,    // 356
    654,    // 357
    176,    // 358
    252,    // 359
    177,    // 360
    21,     // 361
    774,    // 362
    808,    // 363
    572,    // 364
    449,    // 365
    22,     // 366
    363,    // 367
    697,    // 368
    436,    // 369
    419,    // 370
    151,    // 371
    256,    // 372
    100,    // 373
    802,    // 374
    803,    // 375
    73,     // 376
    59,     // 377
    813,    // 378
    816,    // 379
    316,    // 380
    378,    // 381
    660,    // 382
    700,    // 383
    590,    // 384
    702,    // 385
    397,    // 386
    818,    // 387
    259,    // 388
    707,    // 389
    155,    // 390
    157,    // 391
    821,    // 392
    365,    // 393
    817,    // 394
    79,     // 395
    260,    // 396
    305,    // 397
    306,    // 398
    821,    // 399
    97,     // 400
    26,     // 401
    752,    // 402
    704,    // 403
    343,    // 404
    66,     // 405
    709,    // 406
    90,     // 407
    831,    // 408
    366,    // 409
    254,    // 410
    711,    // 411
    688,    // 412
    459,    // 413
    729,    // 414
    730,    // 415
    635,    // 416
    731,    // 417
    732,    // 418
    733,    // 419
    734,    // 420
    735,    // 421
    317,    // 422
    24,     // 423
    262,    // 424
    263,    // 425
    466,    // 426
    285,    // 427
    255,    // 428
    67,     // 429
    63,     // 430
    62,     // 431
    687,    // 432
    824,    // 433
    163,    // 434
    689,    // 435
    94,     // 436
    467,    // 437
    467,    // 438
    161,    // 439
    573,    // 440
    645,    // 441
    661,    // 442
    528,    // 443
    286,    // 444
    832,    // 445
    647,    // 446
    678,    // 447
    815,    // 448
    809,    // 449
    712,    // 450
    456,    // 451
    453,    // 452
    328,    // 453
    329,    // 454
    16,     // 455
    713,    // 456
    91,     // 457
    136,    // 458
    715,    // 459
    29,     // 460
    30,     // 461
    716,    // 462
    348,    // 463
    264,    // 464
    323,    // 465
    691,    // 466
    265,    // 467
    717,    // 468
    736,    // 469
    753,    // 470
    472,    // 471
    473,    // 472
    374,    // 473
    829,    // 474
    318,    // 475
    514,    // 476
    726,    // 477
    372,    // 478
    74,     // 479
    435,    // 480
    504,    // 481
    538,    // 482
    376,    // 483
    48,     // 484
    68,     // 485
    795,    // 486
    586,    // 487
    662,    // 488
    266,    // 489
    267,    // 490
    269,    // 491
    270,    // 492
    58,     // 493
    823,    // 494
    32,     // 495
    421,    // 496
    692,    // 497
    394,    // 498
    75,     // 499
    769,    // 500
    19,     // 501
    770,    // 502
    276,    // 503
    562,    // 504
    563,    // 505
    181,    // 506
    33,     // 507
    257,    // 508
    341,    // 509
    342,    // 510
    134,    // 511
    166,    // 512
    833,    // 513
    834,    // 514
    69,     // 515
    130,    // 516
    131,    // 517
    132,    // 518
    133,    // 519
    349,    // 520
    835,    // 521
    223,    // 522
    320,    // 523
    71,     // 524
    307,    // 525
    308,    // 526
    693,    // 527
    836,    // 528
    676,    // 529
    174,    // 530
    838,    // 531
    708,    // 532
    369,    // 533
    213,    // 534
    214,    // 535
    617,    // 536
    618,    // 537
    280,    // 538
    379,    // 539
    81,     // 540
    616,    // 541
    76,     // 542
    462,    // 543
    78,     // 544
    673,    // 545
    746,    // 546
    463,    // 547
    188,    // 548
    70,     // 549
    491,    // 550
    281,    // 551
    503,    // 552
    364,    // 553
    839,    // 554
    380,    // 555
    841,    // 556
    34,     // 557
    690,    // 558
    458,    // 559
    273,    // 560
    796,    // 561
    57,     // 562
    65,     // 563
    589,    // 564
    651,    // 565
    183,    // 566
    560,    // 567
    663,    // 568
    457,    // 569
    36,     // 570
    740,    // 571
    747,    // 572
    218,    // 573
    135,    // 574
    338,    // 575
    337,    // 576
    339,    // 577
    340,    // 578
    642,    // 579
    643,    // 580
    105,    // 581
    106,    // 582
    107,    // 583
    325,    // 584
    242,    // 585
    546,    // 586
    541,    // 587
    534,    // 588
    535,    // 589
    536,    // 590
    537,    // 591
    543,    // 592
    666,    // 593
    669,    // 594
    468,    // 595
    814,    // 596
    544,    // 597
    182,    // 598
    755,    // 599
    331,    // 600
    464,    // 601
    239,    // 602
    789,    // 603
    825,    // 604
    826,    // 605
    382,    // 606
    428,    // 607
    850,    // 608
    274,    // 609
    797,    // 610
    507,    // 611
    284,    // 612
    137,    // 613
    138,    // 614
    531,    // 615
    38,     // 616
    440,    // 617
    246,    // 618
    247,    // 619
    550,    // 620
    552,    // 621
    851,    // 622
    577,    // 623
    18,     // 624
    175,    // 625
    667,    // 626
    271,    // 627
    31,     // 628
    627,    // 629
    277,    // 630
    278,    // 631
    221,    // 632
    361,    // 633
    249,    // 634
    608,    // 635
    606,    // 636
    610,    // 637
    665,    // 638
    455,    // 639
    557,    // 640
    367,    // 641
    12,     // 642
    657,    // 643
    658,    // 644
    156,    // 645
    108,    // 646
    109,    // 647
    110,    // 648
    111,    // 649
    431,    // 650
    639,    // 651
    207,    // 652
    634,    // 653
    465,    // 654
    196,    // 655
    576,    // 656
    737,    // 657
    219,    // 658
    564,    // 659
    6,      // 660
    668,    // 661
    754,    // 662
    396,    // 663
    664,    // 664
    432,    // 665
    330,    // 666
    146,    // 667
    268,    // 668
    72,     // 669
    25,     // 670
    192,    // 671
    332,    // 672
    750,    // 673
    253,    // 674
    209,    // 675
    99,     // 676
    837,    // 677
    295,    // 678
    144,    // 679
    172,    // 680
    742,    // 681
    501,    // 682
    290,    // 683
    582,    // 684
    583,    // 685
    346,    // 686
    523,    // 687
    326,    // 688
    35,     // 689
    744,    // 690
    745,    // 691
    292,    // 692
    44,     // 693
    160,    // 694
    386,    // 695
    159,    // 696
    327,    // 697
    493,    // 698
    185,    // 699
    186,    // 700
    293,    // 701
    509,    // 702
    785,    // 703
    303,    // 704
    125,    // 705
    304,    // 706
    301,    // 707
    840,    // 708
    164,    // 709
    347,    // 710
    165,    // 711
    494,    // 712
    384,    // 713
    96,     // 714
    7,      // 715
    787,    // 716
    195,    // 717
    439,    // 718
    169,    // 719
    171,    // 720
    433,    // 721
    743,    // 722
    533,    // 723

    // Start of custom entries
    ProfileId::MrSun,               // 724
    ProfileId::MrMoon,              // 725
    ProfileId::ActorSpawner,        // 726
    ProfileId::ModelTest,           // 727
    ProfileId::LightActor,          // 728
    ProfileId::BombBros,            // 729
    ProfileId::EffectSpawner,       // 730
    ProfileId::FakeStarCoin,        // 731
    ProfileId::MagicLift,           // 732
    ProfileId::KoopaShellBros       // 733
};
